<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CharWars</title><style>* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
html {
    background-color:lightgrey;
}

body {
    font-family: 'Courier New', Courier, monospace;
    margin: auto;
}

.noselect,
#highScoreHeader *,
#scoreboard *,
#controlsArea>div>button,
#close-button {
    /* https://stackoverflow.com/questions/826782/how-to-disable-text-selection-highlighting */
    cursor: default;
    -webkit-touch-callout: none;
    /* iOS Safari */
    -webkit-user-select: none;
    /* Safari */
    -khtml-user-select: none;
    /* Konqueror HTML */
    -moz-user-select: none;
    /* Old versions of Firefox */
    -ms-user-select: none;
    /* Internet Explorer/Edge */
    user-select: none;
    /* Non-prefixed version, currently
                                supported by Chrome, Edge, Opera and Firefox */
}

.orange {
    color: orange;
}

.grey {
    color: grey;
}

.character-element {
    font-family: 'Courier New', Courier, monospace;
    background-color: transparent;
}

/* generic flex container styling
--------------------- */

.flex-container-column-default {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
}

.flex-container-row-default {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
}

#controlsArea,
#highScoreHeader,
#scoreboard,
#playArea {
    width: 100%;
    border: 1px solid green;
}

#btnLeft,
#btnRight,
#btnUp,
#btnDown {
    font-size: 2rem;
    color: grey;
}

#btnSpace {
    color: grey;
    font-size: 2rem;
    /* display: none; */
}

#highScoreHeader,
#scoreboard {
    height: 20px;
    font-size: 18px;
}

#playArea {
    /* desired height - highscore -scoreboard - control heights =409*/
    /* 569−20−20−120=409*/
    height: 470px;
    position: relative;
    overflow: hidden;
}

#gameArea {
    border: solid 1px orange;
    overflow: hidden;
}

#playArea>div {
    font-size: 2rem;
}

#userName {
    background-color: orange;
}

#start-button {
    position: absolute;
    display: inline-block;
    left: 33%;
    top: 50%;
    margin: auto;
    width: 33%;
    height: 15%;
    font-size: 1.2rem;
    z-index: 99;
}

#restart-button {
    position: absolute;
    display: none;
    left: 33%;
    top: 50%;
    margin: auto;
    width: 33%;
    height: 10%;
    font-size: 1.2rem;
    z-index: 99;
}
#close-anchor-tag{
    background-color: salmon;
    color: snow;
}



#highScore a{
    text-decoration: none;
}

#highScore a:hover{
    background-color: orange;
}

@media screen and (min-width: 375px) {
    /* #controlsArea,
#highScoreHeader,
#scoreboard,
#playArea {
    width: 375px;
    border: 1px solid green;
} */
.flex-container-column-default{
    width: 375px;
}
}

@media screen and (min-width: 768px) {
    #controlsArea {
        display: none;
    }

    #gameArea {
        border: none;
    }


}
#close-button {
    /* background-color: transparent;
    border: 1px solid beige;
    width: 100%; */

}

#close-button:hover {
    /* background-color: orange; */
}

#close-button a{
    /* display: inline-block;
    text-decoration: none;
    width: 100%; */
}
        a{
    text-decoration: none;
}


/* #playAreaParent{
position:relative;
} */
/****************** standard controls ******************/
/* #space {
grid-area: space;
}


#left {
grid-area: left;
}

#right {
grid-area: right;
}

#up {
grid-area: up;
}

#down {
grid-area: down;
} */
/* #controlsArea {
display: grid;
grid-template-columns: auto auto auto auto auto;
grid-template-rows: 60px 60px;
grid-template-areas: 'space space left up right' 'space space left down right';
background-color: transparent;
} */
/****************** space up/down controls ******************/

#space {
    grid-area: space;
}

#left {
    grid-area: left;
}

#right {
    grid-area: right;
}

#up {
    grid-area: up;
}

#down {
    grid-area: down;
}

#controlsArea {
    display: grid;
    grid-template-columns: auto auto auto auto auto;
    grid-template-rows: 60px 60px;
    grid-template-areas: 'space space left up right' 'space space left down right';
    background-color: transparent;
}

/****************** space up/down controls end ******************/
/****************** space up/down controls ******************/

/* #space {
    grid-area: space;
}

#left {
    display: none;
}

#right {
    display: none;
}

#up {
    grid-area: up;
}

#down {
    grid-area: down;
}

#controlsArea {
    display: grid;
    grid-template-columns: auto auto auto auto auto;
    grid-template-rows: 60px 60px;
    grid-template-areas: 'space space up up up' 'space space down down down';
    background-color: transparent;
} */
/****************** space up/down controls end ******************/
/****************** space control ******************/
/*         
 #space {
    grid-area: space;
}

#left {
    display: none;
}

#right {
    display: none;
}

#up {
    display: none;
}

#down {
    display: none;
}

#controlsArea {
    display: grid;
    grid-template-columns: auto auto auto auto auto;
    grid-template-rows: 60px 60px;
    grid-template-areas: 'space space space space space' 'space space space space space';
    background-color: transparent;

}  */
/****************** space controls end ******************/
/****************** left/right up/down controls ******************/
/*         
#space {
    display: none;
}

#left {
    grid-area: left;
}

#right {
    grid-area: right;
}

#up {
    grid-area: up;
}

#down {
    grid-area: down;
}

#controlsArea {
    display: grid;
    grid-template-columns: auto auto auto auto;
    grid-template-rows: 60px 60px;
    grid-template-areas: 'left up up right' 'left down down right';
    background-color: transparent;
} */
/****************** left/right up/down controls end ******************/
/* https://stackoverflow.com/questions/826782/how-to-disable-text-selection-highlighting */

#controlsArea>div>button {
    width: 100%;
    height: 100%;
    -webkit-appearance: none;
    border-radius: 0;
    -webkit-border-radius: 0px;
}</style></head>
<body class="flex-container-column-default">
    <div class="flex-container-column-default" id="gameArea">
        <div class="flex-container-row-default" id="highScoreHeader">
            <span id="userName">not logged in</span>
            <span>
                <span id="highScore">0</span>
            </span>
            <span><b><a id="close-anchor-tag" href="index.html">&nbsp;&times&nbsp;</a></b></span>
        </div>
        <div class="flex-container-row-default" id="scoreboard">
            <span>
                <span>Level:</span>
                <span id="level">100</span>
            </span>
            <span>
                <span>Score:</span>
                <span id="score">100</span>
            </span>
            <span>
                <span>Lives:</span>
                <span id="lives">100</span>
            </span>
        </div>
        <div id="playArea">
            <button id="start-button">Begin</button>
            <button id="restart-button">Play Again</button>
        </div>
        <div id="controlsArea">
            <div id="space"><button id="btnSpace">&#8861;</button></div>
            <div id="left"><button id="btnLeft">&#8678;</button></div>
            <div id="right"><button id="btnRight">&#8680;</button></div>
            <div id="up"><button id="btnUp">&#8679;</button></div>
            <div id="down"><button id="btnDown">&#8681;</button></div>
        </div>
    </div><script>const soundsByFilename = {};
// ////////////////////////////////////
// // Constructor Function
// function Color(r, g, b) {
//     this.r = r;
//     this.g = g;
//     this.b = b;
// }

// Color.prototype.rgb = function () {
//     const { r, g, b } = this;
//     return `rgb(${r}, ${g}, ${b})`;
// };

// Color.prototype.hex = function () {
//     const { r, g, b } = this;
//     return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
// };
// ////////////////////////////////

function MyLittleVideoGame(name = "MyLVGame", score = 0, level = 1, lives = 3) {
    // constructor(name = "MyLVGame", width = 320, height = 569, scoreboardHeight = 20, score = 0, level = 0, lives = 3) {
    //constructor(name = "MyLVGame", score = 0, level = 1, lives = 3) 

    this.name = name;
    this.highScoreHeaderDiv = document.getElementById("highScoreHeader");
    this.scoreboardDiv = document.getElementById("scoreboard");
    this.gameAreaDiv = document.getElementById("gameArea");
    this.playAreaDiv = document.getElementById("playArea");
    this.controlsAreaDiv = document.getElementById("controlsArea");
    this.levelAreaSpan = document.getElementById("level");
    this.userNameSpan = document.getElementById("userName");

    //this.width = width;  //get general width
    let stringPixelWidth = document.defaultView.getComputedStyle(this.playAreaDiv).width;
    let intPixelWidth = parseInt(stringPixelWidth.substring(0, stringPixelWidth.length - 2));
    this.width = intPixelWidth;

    //get high score header height
    let strHSPixelHeight = document.defaultView.getComputedStyle(this.highScoreHeaderDiv).height;
    let intHSPixelHeight = parseInt(strHSPixelHeight.substring(0, strHSPixelHeight.length - 2));
    this.highScoreHeaderHeight = intHSPixelHeight;

    //get scoreboard height
    //this.scoreboardHeight = scoreboardHeight;
    let strSCPixelHeight = document.defaultView.getComputedStyle(this.scoreboardDiv).height;
    let intSCPixelHeight = parseInt(strSCPixelHeight.substring(0, strSCPixelHeight.length - 2));
    this.scoreboardHeight = intSCPixelHeight;

    //get playAreaWidth
    this.playAreaWidth = this.width;

    //get playAreaHeight
    let strPAPixelHeight = document.defaultView.getComputedStyle(this.playAreaDiv).height;
    let intPAPixelHeight = parseInt(strPAPixelHeight.substring(0, strPAPixelHeight.length - 2));
    this.playAreaHeight = intPAPixelHeight;

    //get controls area height
    let strCAPixelHeight = document.defaultView.getComputedStyle(this.controlsAreaDiv).height;
    let intCAPixelHeight = parseInt(strCAPixelHeight.substring(0, strCAPixelHeight.length - 2));
    this.controlsAreaHeight = intCAPixelHeight;

    //get controls area width
    let strCAPixelWidth = document.defaultView.getComputedStyle(this.controlsAreaDiv).width;
    let intCAPixelWidth = parseInt(strCAPixelWidth.substring(0, strCAPixelWidth.length - 2));
    this.controlsAreaWidth = intCAPixelWidth;

    //this.height = height;
    //height = total height = playAreaHeight + scoreboardheight*2 + contraols area height
    //height  = highscoreheader + scoreboard + playareaHeight + controls area height 
    this.height = this.highScoreHeaderHeight + this.scoreboardHeight + this.playAreaHeight + this.controlsAreaHeight;

    //this.controlsAreaHeight = controlsAreaHeight;
    this.score = score;
    this.level = level;
    this.lives = lives;

    //this.changeGameSize(this.width, this.height, this.scoreboardHeight, this.controlsAreaHeight);

    //this.playAreaWidth = this.width;
    //this.playAreaHeight = this.height - this.scoreboardHeight * 2.0 - this.controlsAreaHeight;
    this.controlLeft = false;
    this.controlRight = false;
    this.controlUp = false;
    this.controlDown = false;
    this.controlSpace = false;
    this.soundsByFilename = {};
    this.setTitle(this.name);
    this.setScore(this.score);
    this.setLevel(this.level);
    this.setLives(this.lives);
    this.highScoreHeaderDiv.addEventListener("dblclick", (evt) => {
        evt.preventDefault()
    });
    this.scoreboardDiv.addEventListener("dblclick", (evt) => {
        evt.preventDefault()
    });
    this.gameAreaDiv.addEventListener("dblclick", (evt) => {
        evt.preventDefault()
    });
    this.playAreaDiv.addEventListener("dblclick", (evt) => {
        evt.preventDefault()
    });
    this.controlsAreaDiv.addEventListener("dblclick", (evt) => {
        evt.preventDefault()
    });

    /*
    Color.prototype.rgb = function() {
        const { r, g, b } = this;
        return `rgb(${r}, ${g}, ${b})`;
    };
    */


}

MyLittleVideoGame.prototype.setTitle = function (title) {
    window.document.title = title;
}
//setTitle(title) {
//    window.document.title = title;
//}
// score keeping
MyLittleVideoGame.prototype.getScore = function () {
    return parseInt(document.getElementById("score").innerHTML);
}

//getScore() {
//    return parseInt(document.getElementById("score").innerHTML);
//}

MyLittleVideoGame.prototype.setScore = function (score) {
    this.score = score;
    document.getElementById("score").innerHTML = this.score;
}

//setScore(score) {
//    this.score = score;
//    document.getElementById("score").innerHTML = this.score;
// }

MyLittleVideoGame.prototype.addToScore = function (amount) {
    this.setScore(this.getScore() + parseInt(amount));
}
//addToScore(amount) {
//    this.setScore(this.getScore() + parseInt(amount));
//}


//subtractFromScore(amount) {
MyLittleVideoGame.prototype.subtractFromScore = function (amount) {
    this.setScore(this.getScore() - parseInt(amount));
}

//level tracking
//getLevel() {
MyLittleVideoGame.prototype.getLevel = function () {
    return parseInt(document.getElementById("level").innerHTML);
}


//setLevel(level) {
MyLittleVideoGame.prototype.setLevel = function (level) {
    this.level = level;
    document.getElementById("level").innerHTML = this.level.toString();
}

//increaseLevel(amount) {
MyLittleVideoGame.prototype.increaseLevel = function (amount) {
    this.setLevel(this.getLevel() + parseInt(amount));
}

//decreaseLevel(amount) {
MyLittleVideoGame.prototype.decreaseLevel = function (amount) {
    this.setLevel(this.getLevel() - parseInt(amount));
}

//lives
//getLives() {
MyLittleVideoGame.prototype.getLives = function () {
    return parseInt(document.getElementById("lives").innerHTML);
}
//setLives(lives) {
MyLittleVideoGame.prototype.setLives = function (lives) {
    this.lives = lives;
    document.getElementById("lives").innerHTML = this.lives.toString();
}
//addLives(amount) {
MyLittleVideoGame.prototype.addLives = function (amount) {
    this.setLives(this.getLives() + parseInt(amount));
}
//subtractLives(amount) {
MyLittleVideoGame.prototype.subtractLives = function (amount) {
    this.setLives(this.getLives() - parseInt(amount));
}
//setBackgroundColor(color = "white") {
MyLittleVideoGame.prototype.setBackgroundColor = function (color = "white") {
    this.playAreaDiv.style.backgroundColor = color;
}


MyLittleVideoGame.prototype.setControlsToFalse = function () {
    //setControlsToFalse() {
    this.controlLeft = false;
    this.controlRight = false;
    this.controlUp = false;
    this.controlDown = false;
    this.controlSpace = false;
}
MyLittleVideoGame.prototype.getControlLeft = function () {
    //getControlLeft() {
    return this.controlLeft;
}
MyLittleVideoGame.prototype.getControlRight = function () {
    //getControlRight() {
    return this.controlRight;
}
MyLittleVideoGame.prototype.getControlUp = function () {
    //getControlUp() {
    return this.controlUp;
}

MyLittleVideoGame.prototype.getControlDown = function () {
    //getControlDown() {
    return this.controlDown;
}

MyLittleVideoGame.prototype.getControlSpace = function () {
    //getControlSpace() {
    return this.controlSpace;
}

// ArrowLeft
// ArrowLeft
// ArrowRight
// ArrowRight
// ArrowUp
// ArrowUp
// ArrowDown
// ArrowDown
// Space
// Space

MyLittleVideoGame.prototype.changeGameSize = function (width, height, scoreboardHeight, controlsAreaHeight) {
    //changeGameSize(width, height, scoreboardHeight, controlsAreaHeight) {
    this.height = height;
    this.width = width;
    this.scoreboardHeight = scoreboardHeight;
    this.controlsAreaHeight = controlsAreaHeight;

    this.highScoreHeaderDiv.style.height = this.scoreboardHeight.toString() + "px";
    this.highScoreHeaderDiv.style.width = this.width.toString() + "px";

    this.scoreboardDiv.style.height = this.scoreboardHeight.toString() + "px";
    this.scoreboardDiv.style.width = this.width.toString() + "px";

    this.gameAreaDiv.style.width = this.width.toString() + "px";
    this.gameAreaDiv.style.height = this.height.toString() + "px";

    this.controlsAreaDiv.style.height = this.controlsAreaHeight.toString() + "px";
    this.controlsAreaDiv.style.width = this.width.toString() + "px";

    this.playAreaDiv.style.height = (this.height - this.scoreboardHeight * 2 - this.controlsAreaHeight).toString() + "px";
    this.playAreaDiv.style.width = this.width.toString() + "px";
}


function GameCharacter(id, text, xPosition, yPosition, angle, game, fontSize = "1rem") {
    //constructor(id, text, xPosition, yPosition, angle, game, fontSize = "1rem") {
    this.text = text;
    this.xPosition = xPosition;
    this.yPosition = yPosition;
    this.angle = angle;
    this.game = game;
    this.fontSize = fontSize;

    //get parent div
    this.playAreaDiv = game.playAreaDiv;
    //make a div inside parent to contain character
    this.characterElement = document.createElement("div");
    //this.characterElement.innerHTML = this.text;
    this.characterElement.innerHTML = "<pre>" + this.text + "</pre>";
    // this.characterElement.classList.add("character-element");
    this.playAreaDiv.appendChild(this.characterElement);
    this.characterElement.style.position = "absolute";
    //give it an id and place 
    this.characterElement.id = id;
    this.id = id;

    this.characterElement.style.fontSize = this.fontSize;

    // this.leftPlayAreaBorder = 0;
    // this.rightPlayAreaBorder = this.game.playAreaWidth;
    // this.topPlayAreaBorder = 0;
    // this.bottomPlayAreaBorder = this.game.playAreaHeight;
    this.characterElement.style.left = this.xPosition.toString() + "px";
    this.characterElement.style.top = this.yPosition.toString() + "px";
    this.characterElement.style.transform = "translate(-50%, -50%)";
    this.characterElement.classList.add("noselect");
    this.characterElement.style.whiteSpace = "nowrap";

    this.refreshWidthAndHeightOfCharacter();
    rotateToAngle(this, this.angle);
}

GameCharacter.prototype.refreshWidthAndHeightOfCharacter = function () {
    //get width and height of this element
    this.width = parseFloat((window.getComputedStyle(this.characterElement).width).slice(0, -2));
    this.height = parseFloat((window.getComputedStyle(this.characterElement).height).slice(0, -2));
}

GameCharacter.prototype.getXPosition = function () {
    return (this.xPosition);
}
GameCharacter.prototype.getYPosition = function () {
    return (this.yPosition);
}
GameCharacter.prototype.getCharacterWidth = function () {
    return (this.width);
}
GameCharacter.prototype.getCharacterHeight = function () {
    return (this.height);
}
GameCharacter.prototype.setText = function (text) {
    this.text = text;
    this.characterElement.innerHTML = this.text;
    this.refreshWidthAndHeightOfCharacter();
}
GameCharacter.prototype.keepInPlayArea = function () {
    //pass;
}
GameCharacter.prototype.setSizeInRems = function (numberRem = 1) {

    this.fontSize = numberRem.toString() + "rem";
    this.characterElement.style.fontSize = this.fontSize;
    this.refreshWidthAndHeightOfCharacter();
    // makeSureOnScreen(this);
    // //console.logthis);
}
GameCharacter.prototype.setSizeInEms = function (numberEm = 1) {
    this.fontSize = numberEm.toString() + "em";
    this.characterElement.style.fontSize = this.fontSize;
    this.refreshWidthAndHeightOfCharacter();
}

GameCharacter.prototype.getSizeInEms = function () {
    return parseInt(this.fontSize.substring(0, this.fontSize.length - 2));
}
GameCharacter.prototype.setColor = function (color = "black") {
    this.color = color;
    this.characterElement.style.color = this.color;

}
GameCharacter.prototype.getColor = function () {
    return (this.color);
}
GameCharacter.prototype.setBackgroundColor = function (color = "transparent") {
    this.backgroundColor = color;
    this.characterElement.style.backgroundColor = this.backgroundColor;
}
//}

function soundplay(mysound) {
    ////console.log"mysound instanceof Tone");
    ////console.logmysound instanceof Tone);

    if (mysound instanceof Audio) {
        // //console.logmysound);
        // //console.log"it is an instance of an Audio Object!!!!!");
        if (isPlaying(mysound) === false) {
            mysound.play();
        }
    } else if (mysound instanceof Tone) {
        mysound.play();
    } else {
        // //console.logmysound);
        // //console.log"it is a File!!!!!");
        filename = mysound;
        //check to see if it is in list of sounds by filename
        if (filename in soundsByFilename) {
            //if its already playing return
            if (isPlaying(soundsByFilename[filename]) === true) {
                return;
            }
            //if its not playing play it
            else {
                soundsByFilename[filename].play();
                return soundsByFilename[filename];
            }
        }
        //it is not in list of sounds by filename
        else {
            //make new audio object with filename as key
            newAudioObject = new Audio(filename);
            //play new sound
            newAudioObject.play();
            //add to list of sounds by filename
            soundsByFilename[filename] = newAudioObject;
            return soundsByFilename[filename];
        }
    }
}

function resetAndPlayAudioObject(audioObject) {
    if (audioObject.paused) {
        audioObject.play();
    } else {
        audioObject.currentTime = 0
        audioObject.play()
    }
}

function loopsound(mysound) {
    if (mysound instanceof Audio) {
        // //console.logmysound);
        // //console.log"it is an instance of an Audio Object!!!!!");
        if (isPlaying(mysound) === false) {
            mysound.loop = true;
            mysound.play();
        }
    } else if (mysound instanceof Tone) {
        mysound.durationMS = 100000000;
        mysound.play();
    } else {
        // //console.logmysound);
        // //console.log"it is a File !!!!!");
        filename = mysound;
        //check to see if it is in list of sounds by filename
        if (filename in soundsByFilename) {
            // //console.logfilename, "filename in soundsByFilename!");
            //if its already playing return
            if (isPlaying(soundsByFilename[filename]) === true) {
                // //console.log"and playing is true!");
                return;
            }
            //if its not playing play it
            else {
                // //console.log"and playing is false!, starting to play");
                soundsByFilename[filename].loop = true;
                soundsByFilename[filename].play();
                return soundsByFilename[filename];
            }
        }
        //it is not in list of sounds by filename
        else {
            // //console.logfilename, "filename NOT in soundsByFilename!");
            //make new audio object with filename as key
            newAudioObject = new Audio(filename);
            //play new sound
            newAudioObject.loop = true;
            newAudioObject.play();
            //add to list of sounds by filename
            soundsByFilename[filename] = newAudioObject;
            return soundsByFilename[filename];
        }
    }
}

function stopsound(mysound) {
    if (mysound instanceof Audio) {
        // //console.logmysound);
        // //console.log"it is an instance of an Audio Object!!!!!");
        mysound.pause();
        mysound.currentTime = 0;
    } else if (mysound instanceof Tone) {
        mysound.stop();
    } else {
        // //console.logmysound);
        // //console.log"it is a File!!!!!");
        filename = mysound;
        if (filename in soundsByFilename) {
            // //console.logsoundsByFilename);
            // //console.log"filename", filename, "in list, trying to pause");

            soundsByFilename[filename].pause();
            soundsByFilename.currentTime = 0;
        } else {
            // //console.logfilename, "not found in keys of soundsByFilename{}");
        }
    }
}

////////////////////////////////////
// Constructor Function
function Color(r, g, b) {
    this.r = r;
    this.g = g;
    this.b = b;
}

Color.prototype.rgb = function () {
    const { r, g, b } = this;
    return `rgb(${r}, ${g}, ${b})`;
};

Color.prototype.hex = function () {
    const { r, g, b } = this;
    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
};
////////////////////////////////

function Tone(frequencyHz = 440, durationMS = 1000, type = "sine", bass = 0, mid = 0, treble = 0) {
    //constructor(frequencyHz = 440, durationMS = 1000, type = "sine", bass = 0, mid = 0, treble = 0) {
    this.frequencyHz = frequencyHz;
    this.durationMS = durationMS;
    this.type = type;
    this.bass = bass;
    this.mid = mid;
    this.treble = treble;
    this.audioCtx = new (window.AudioContext || window.webkitAudioContext);
    this.oscillator = this.audioCtx.createOscillator();
    this.oscillator.frequency.setValueAtTime(this.frequencyHz, this.audioCtx.currentTime);
    // "sine", "square", "sawtooth", "triangle" and "custom". The default is "sine".
    this.oscillator.type = this.type;
    this.gainControl = this.audioCtx.createGain();
    this.gainControl.gain.setValueAtTime(0, this.audioCtx.currentTime);
    this.bassControl = this.audioCtx.createBiquadFilter();
    this.bassControl.type = "lowshelf";
    this.bassControl.frequency.setValueAtTime(210, this.audioCtx.currentTime);
    this.bassControl.gain.setValueAtTime(this.bass, this.audioCtx.currentTime);
    this.midControl = this.audioCtx.createBiquadFilter();
    this.midControl.type = "peaking";
    //http://www.learningaboutelectronics.com/Articles/Quality-factor-calculator.php#answer
    this.midControl.Q.setValueAtTime(0.375, this.audioCtx.currentTime);
    this.midControl.frequency.setValueAtTime(590, this.audioCtx.currentTime);
    this.midControl.gain.setValueAtTime(this.mid, this.audioCtx.currentTime);
    this.trebleControl = this.audioCtx.createBiquadFilter();
    this.trebleControl.type = "highshelf";
    this.trebleControl.frequency.setValueAtTime(1200, this.audioCtx.currentTime);
    this.trebleControl.gain.setValueAtTime(this.treble, this.audioCtx.currentTime);
    this.oscillator.connect(this.bassControl);
    this.bassControl.connect(this.midControl);
    this.midControl.connect(this.trebleControl);
    this.trebleControl.connect(this.gainControl);
    this.gainControl.connect(this.audioCtx.destination);
    this.oscillator.start();
}

Tone.prototype.play = function () {
    if (this.cancelStop === undefined) { //first call ths.cancelStop not yet defined
        //do nothing
    } else {
        clearTimeout(this.cancelStop);
    }
    //this.gainControl.gain.cancelScheduledValues(this.audioCtx.currentTime);
    this.gainControl.gain.setValueAtTime(this.gainControl.gain.value, this.audioCtx.currentTime);
    this.gainControl.gain.linearRampToValueAtTime(1, this.audioCtx.currentTime + 0.03);
    this.cancelStop = setTimeout(() => {
        this.gainControl.gain.setValueAtTime(this.gainControl.gain.value, this.audioCtx.currentTime);
        this.gainControl.gain.linearRampToValueAtTime(0, this.audioCtx.currentTime + 0.03);
    }, this.durationMS - 30);
}

Tone.prototype.stop = function () {
    clearTimeout(this.cancelStop);
    this.gainControl.gain.setValueAtTime(this.gainControl.gain.value, this.audioCtx.currentTime);
    this.gainControl.gain.linearRampToValueAtTime(0, this.audioCtx.currentTime + 0.03);
}


function isPlaying(mysound) {
    return !mysound.paused;
}

function waitForKeyPress() {
    unbindControlsToWindow();
    //more code here
}

function bindControlsToWindow(aGame) {
    window.addEventListener("keydown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    window.addEventListener("keyup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
}

function unbindControlsToWindow(aGame) {
    window.removeEventListener("keydown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    window.removeEventListener("keyup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    aGame.setControlsToFalse();
}


function bindButtonControls(aGame) {
    document.getElementById("btnLeft").addEventListener("mousedown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnRight").addEventListener("mousedown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnUp").addEventListener("mousedown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnDown").addEventListener("mousedown", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnSpace").addEventListener("mousedown", (evt) => {
        triggerControlPress(aGame, evt)
    });

    document.getElementById("btnLeft").addEventListener("touchstart", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnRight").addEventListener("touchstart", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnUp").addEventListener("touchstart", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnDown").addEventListener("touchstart", (evt) => {
        triggerControlPress(aGame, evt)
    });
    document.getElementById("btnSpace").addEventListener("touchstart", (evt) => {
        triggerControlPress(aGame, evt)
    });


    document.getElementById("btnLeft").addEventListener("mouseup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnRight").addEventListener("mouseup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnUp").addEventListener("mouseup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnDown").addEventListener("mouseup", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnSpace").addEventListener("mouseup", (evt) => {
        triggerControlRelease(aGame, evt)
    });

    document.getElementById("btnLeft").addEventListener("touchend", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnRight").addEventListener("touchend", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnUp").addEventListener("touchend", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnDown").addEventListener("touchend", (evt) => {
        triggerControlRelease(aGame, evt)
    });
    document.getElementById("btnSpace").addEventListener("touchend", (evt) => {
        triggerControlRelease(aGame, evt)
    });
}



function triggerControlPress(aGame, evt) {
    // evt.preventDefault();
    if (
        (evt.code === "ArrowLeft") ||
        (evt.target.id === "btnLeft")
    ) {
        aGame.controlLeft = true;
        aGame.controlRight = false;
    } else if (
        (evt.code === "ArrowRight") ||
        (evt.target.id === "btnRight")
    ) {
        aGame.controlRight = true;
        aGame.controlLeft = false;
    } else if (
        (evt.code === "ArrowUp") ||
        (evt.target.id === "btnUp")
    ) {
        aGame.controlUp = true;
        aGame.controlDown = false;
    } else if (
        (evt.code === "ArrowDown") ||
        (evt.target.id === "btnDown")
    ) {
        aGame.controlDown = true;
        aGame.controlUp = false;
    } else if (
        (evt.code === "Space") ||
        (evt.target.id === "btnSpace")
    ) {
        aGame.controlSpace = true;
    }
}

function triggerControlRelease(aGame, evt) {
    ////console.log"released ", evt.code);;
    if (
        (evt.code === "ArrowLeft") ||
        (evt.target.id === "btnLeft")
    ) {
        aGame.controlLeft = false;
    } else if (
        (evt.code === "ArrowRight") ||
        (evt.target.id === "btnRight")
    ) {
        aGame.controlRight = false;
    } else if (
        (evt.code === "ArrowUp") ||
        (evt.target.id === "btnUp")
    ) {
        aGame.controlUp = false;
    } else if (
        (evt.code === "ArrowDown") ||
        (evt.target.id === "btnDown")
    ) {
        aGame.controlDown = false;
    } else if (
        (evt.code === "Space") ||
        (evt.target.id === "btnSpace")
    ) {
        aGame.controlSpace = false;
    }
}



function moveCharacterBy(character, x, y) {
    character.xPosition = character.xPosition + x;
    character.yPosition = character.yPosition + y;
    character.characterElement.style.left = character.xPosition.toString() + "px";
    character.characterElement.style.top = character.yPosition.toString() + "px";
}

function moveCharacterTo(character, x, y) {
    character.xPosition = x;
    character.yPosition = y;
    character.characterElement.style.left = character.xPosition.toString() + "px";
    character.characterElement.style.top = character.yPosition.toString() + "px";
}

function removeCharacter(character) {
    //character.text = "";
    // document.getElementById(character.characterElement.id).remove();
    character.characterElement.remove();
}

function getXPosition(character) {
    return character.xPosition;
}

function getYPosition(character) {
    return character.yPosition;
}

function setXPosition(character, xPosition) {
    character.xPosition = xPosition;
}

function setYPosition(character, yPosition) {
    character.yPosition = yPosition;
}

function setAngle(character, angle) {
    character.angle = angle;
}

function getAngle(character) {
    return character.angle;
}

function rotateToAngle(character, degrees, flip = "none") {
    character.angle = degrees % 360;
    let str = "";
    if (flip === "vertical") {
        str = "scale(-1,1)";
    }
    else if (flip === "horizonal") {
        str = "scale(1,-1)";
    }
    transformProperty = `translate(-50%,-50%) rotate(${character.angle}deg) ${str}`;
    character.characterElement.style.transform = transformProperty;
}

function rotateByAngle(character, degrees, flip = "none") {
    character.angle = (character.angle - degrees);
    rotateToAngle(character, character.angle);
}

function flipVertical(character) {
    transformProperty = "translate(-50%, -50%) scale(-1,1)";
    character.characterElement.style.transform = transformProperty;
    //character.characterElement.style.transform.scale
}

function unflipVertical(character) {
    transformProperty = "translate(-50%, -50%)"; // scale(-1,1)";
    character.characterElement.style.transform = transformProperty;
}

function flipHorizontal(character) {
    transformProperty = "translate(-50%, -50%) scale(1,-1)";
    character.characterElement.style.transform = transformProperty;
    //character.characterElement.style.transform.scale
}

function unflipHorizontal(character) {
    transformProperty = "translate(-50%, -50%)"; // scale(-1,1)";
    character.characterElement.style.transform = transformProperty;
}




// function makeSureOnScreen(character) {
//     //pass
// }

function respondToControlsWithMove(character, negX, posX, negY, posY, faceDirection = false, widerEdge = true) {

    let finalXMove = 0;
    let finalYMove = 0;

    let wideFactor = 1.0;
    if (widerEdge === true) {
        wideFactor = 0;
    }
    let game = character.game;

    // //console.logcharacter.id, negX, posX, negY, posY, faceDirection, widerEdge);
    if (game.controlLeft === true) {
        //if will go off screen, don't move, account for width/height of character and amount to move
        if (faceDirection == true) {
            unflipVertical(character);
        }

        if (character.xPosition - wideFactor * (character.width) / 2.0 - negX < 0) {
            //pass do nothing, don't move character out of area
        } else {
            //moveCharacterBy(character, negX, 0);
            finalXMove += negX;
            //rotateByAngle(character, 10);
        }
    }
    if (game.controlRight === true) {
        if (faceDirection == true) {
            flipVertical(character);
        }
        //if will go off screen, don't move, account for width/height of character and amount to move
        if (character.xPosition + wideFactor * (character.width) / 2.0 + posX > game.playAreaWidth) {
            //pass do nothing, don't move character out of area
        } else {
            //moveCharacterBy(character, posX, 0);
            finalXMove += posX;
        }
    }
    if (game.controlUp === true) {
        //if will go off screen, don't move, account for width/height of character and amount to move
        if (character.yPosition - wideFactor * (character.height) / 2.0 - negY < 0) {
            //pass do nothing, don't move character out of area
        } else {
            //moveCharacterBy(character, 0, negY);
            finalYMove += negY;
        }
    }
    if (game.controlDown === true) {
        //if will go off screen, don't move, account for width/height of character and amount to move
        if (character.yPosition + wideFactor * (character.height) / 2.0 + posY > game.playAreaHeight) {
            //pass do nothing, don't move character out of area
        } else {
            finalYMove += posY;
            //moveCharacterBy(character, 0, posY);
        }
    }

    if ((finalYMove === 0) && (finalXMove !== 0)) {
        moveCharacterBy(character, finalXMove, 0);
    }
    else if ((finalXMove === 0) && (finalYMove !== 0)) {
        moveCharacterBy(character, 0, finalYMove);
    }
    else {
        finalXMove = 0.707 * finalXMove;
        finalYMove = 0.707 * finalYMove;
        moveCharacterBy(character, finalXMove, finalYMove);
    }
    //if something is happening return true, allows for knowing if l/r/u/d being pressed at all, which
    //can be used to add sounds/visual effects while moving
    if ((game.controlLeft === true) ||
        (game.controlRight === true) ||
        (game.controlUp === true) ||
        (game.controlDown === true)) {
        return true;
    } else {
        return false;
    }
}

function respondToControlsWithScroll(character, game, negX, posX, negY, posY) {
    if (game.controlLeft === true) {
        moveCharacterBy(character, negX, 0);
    }
    if (game.controlRight === true) {
        moveCharacterBy(character, posX, 0);
    }
    if (game.controlUp === true) {
        moveCharacterBy(character, 0, negY);
    }
    if (game.controlDown === true) {
        moveCharacterBy(character, 0, posY);
    }
    if ((game.controlLeft === true) ||
        (game.controlRight === true) ||
        (game.controlUp === true) ||
        (game.controlDown === true)) {
        return true;
    } else {
        return false;
    }
}



function respondToControlsWithRotate(character, leftDegrees, rightDegrees, forwardBy, backwardBy) {

    let game = character.game;

    let angleInRads = character.angle * 2 * Math.PI / 360.0;

    if (game.controlLeft === true) {
        rotateByAngle(character, leftDegrees);
    }
    if (game.controlRight === true) {
        rotateByAngle(character, -rightDegrees);
    }
    if (game.controlUp === true) {
        //if will go off screen, don't move, account for width/height of character and amount to move
        let xmove = forwardBy * (Math.sin(angleInRads));
        if (
            (xmove + character.xPosition + character.width >= game.playAreaWidth) || //adding x goes past right boundary
            (xmove + character.xPosition - character.width <= 0) // or past left boundary
        ) {
            xmove = 0;
        }

        let ymove = -forwardBy * (Math.cos(angleInRads));
        if (
            (ymove + character.yPosition + character.width >= game.playAreaHeight) || //adding x goes past right boundary
            (ymove + character.yPosition - character.width <= 0) // or past left boundary
        ) {
            ymove = 0;
        }
        moveCharacterBy(character, xmove, ymove);
    }

    if (game.controlDown === true) {
        //if will go off screen, don't move, account for width/height of character and amount to move
        let xmove = -backwardBy * (Math.sin(angleInRads));
        if (
            (xmove + character.xPosition + character.width >= game.playAreaWidth) || //adding x goes past right boundary
            (xmove + character.xPosition - character.width <= 0) // or past left boundary
        ) {
            xmove = 0;
        }

        let ymove = backwardBy * (Math.cos(angleInRads));
        if (
            (ymove + character.yPosition + character.width >= game.playAreaHeight) || //adding x goes past right boundary
            (ymove + character.yPosition - character.width <= 0) // or past left boundary
        ) {
            ymove = 0;
        }
        moveCharacterBy(character, xmove, ymove);

    }
    if ((game.controlLeft === true) ||
        (game.controlRight === true) ||
        (game.controlUp === true) ||
        (game.controlDown === true)) {
        return true;
    } else {
        return false;
    }
}

function makeDissapearInSeconds(character, seconds) {
    duration = seconds * 1000.0; //convert to float and milliseconds
    setTimeout(() => {
        character.setText("");
    }, duration);
}

function collisionDetect(character1, character2, hitboxscale0to1 = 0.5) {
    hitBoxX = (character1.getCharacterWidth() + character2.getCharacterWidth()) / 2.0; //average works well
    hitBoxX *= hitboxscale0to1; //text characters usually do not completely fill div
    hitBoxY = (character1.getCharacterHeight() + character2.getCharacterHeight()) / 2.0; //average works well
    hitBoxY *= hitboxscale0to1; //text characters usually do not completely fill div
    ////console.log"hitboxx", hitBoxX, "hitboxy", hitBoxY)
    if ((character1.text === "") || (character2.text === "")) {
        return false;
    } else if (
        (Math.abs(character1.getXPosition() - character2.getXPosition()) < hitBoxX) &&
        (Math.abs(character1.getYPosition() - character2.getYPosition()) < hitBoxY)
    ) {
        ////console.log"!!!!!!!!!!HITS!!!!!!!!!!!");
        return true;
    }
}

function randomNumberZeroToNumber(number) {
    value = Math.random() * (number + 1);
    value = Math.floor(value);
    return value;
}
function randomFloatLowToHigh(low, high) {
    return Math.random() * (high - low) + low;
}
function randomIntLowToHigh(low, high) {
    return Math.floor(Math.random() * (high - low + 1)) + low;
}


// https://www.py4u.net/discuss/986510

document.addEventListener('gesturestart', function (e) {
    e.preventDefault();
    // special hack to prevent zoom-to-tabs gesture in safari
    document.body.style.zoom = 0.99;
});

document.addEventListener('gesturechange', function (e) {
    e.preventDefault();
    // special hack to prevent zoom-to-tabs gesture in safari
    document.body.style.zoom = 0.99;
});

document.addEventListener('gestureend', function (e) {
    e.preventDefault();
    // special hack to prevent zoom-to-tabs gesture in safari
    document.body.style.zoom = 0.99;
});


function spinningMessage(message = "!!", game, seconds = .77, startSize = "1.2em", endSize = "1.7em", thisColor = 'black') {
    if (document.getElementById("spinning-message") == null) {
        messageGameCharacter = new GameCharacter("spinning-message", message, game.playAreaWidth / 2, game.playAreaHeight / 2, -90, game, startSize);
        messageGameCharacter.characterElement.style.color = thisColor;
    } else {
        messageGameCharacter.characterElement.style.fontSize = startSize;
        document.getElementById("spinning-message").innerHTML = message;
    }
    if (document.getElementById("spinning-message").innerHTML != "") {
        setAngle(messageGameCharacter, -90);
        makeDissapearInSeconds(messageGameCharacter, seconds);
        let rotatingMessage = setInterval(() => {
            if (getAngle(messageGameCharacter) < 0) {
                rotateByAngle(messageGameCharacter, -1);
            } else {
                messageGameCharacter.characterElement.style.fontSize = endSize;
                clearInterval(rotatingMessage);
            }
        }, 1 / 90.0);
    }
}

function useControls(controlCode) {
    //slr   sud lr  ud s lrud slrud
    if ((controlCode) === "slr") {
        document.getElementById("space").style.gridArea = "space";
        document.getElementById("left").style.gridArea = "left";
        document.getElementById("right").style.gridArea = "right";
        document.getElementById("up").style.display = "none";
        document.getElementById("down").style.display = "none";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'space space left right' 'space space left right'";
    }
    else if ((controlCode) === "sud") {
        document.getElementById("space").style.gridArea = "space";
        document.getElementById("left").style.display = "none";
        document.getElementById("right").style.display = "none";
        document.getElementById("up").style.gridArea = "up";
        document.getElementById("down").style.gridArea = "down";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'space space up up up' 'space space down down down'";
    }
    else if ((controlCode) === "lr") {
        document.getElementById("space").style.display = "none";
        document.getElementById("left").style.gridArea = "left";
        document.getElementById("right").style.gridArea = "right";
        document.getElementById("up").style.display = "none";
        document.getElementById("down").style.display = "none";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'left left right right' 'left left right right'";
    }
    else if ((controlCode) === "ud") {
        document.getElementById("space").style.display = "none";
        document.getElementById("left").style.display = "none";
        document.getElementById("right").style.display = "none";
        document.getElementById("up").style.gridArea = "up";
        document.getElementById("down").style.gridArea = "down";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'up up up up' 'down down down down'";
    }
    else if ((controlCode) === "s") {
        document.getElementById("space").style.gridArea = "space";
        document.getElementById("left").style.display = "none";
        document.getElementById("right").style.display = "none";
        document.getElementById("up").style.display = "none";
        document.getElementById("down").style.display = "none";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'space space space space space' 'space space space space space'";
    }
    else if ((controlCode) === "lrud") {
        document.getElementById("space").style.display = "none";
        document.getElementById("left").style.gridArea = "left";
        document.getElementById("right").style.gridArea = "right";
        document.getElementById("up").style.gridArea = "up";
        document.getElementById("down").style.gridArea = "down";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'left up up right' 'left down down right'";
    }
    else {
        document.getElementById("space").style.gridArea = "space";
        document.getElementById("left").style.gridArea = "left";
        document.getElementById("right").style.gridArea = "right";
        document.getElementById("up").style.gridArea = "up";
        document.getElementById("down").style.gridArea = "down";
        document.getElementById("controlsArea").style.gridTemplateColumns="auto auto auto auto auto";
        document.getElementById("controlsArea").style.gridTemplateAreas="'space space left up right' 'space space left down right'";
    }
}

</script><script>let blipSelect = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAABAAAAlgAenp6enp6enp6enp6enp6enp6enp6enp6pqampqampqampqampqampqampqampqamptPT09PT09PT09PT09PT09PT09PT09PT09P/////////////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQCSgAAAAAAAAJYA8Y//AAAAAAAAAAAAAAAAAD/80DEABKpHrgBTCgAnbr169evXrDAwJAkCQTHSWAAAQRDBZSlKHOc4fAMAwOL/8hCEITkJ/5xMPh8Ph7iAHwfD/4Yg+D/ggD4Pg///lAfB/1Agc//8EDi/24AASjn/+9sjvspiAAJLP/zQsQQGIr7Al+HUADWjxteKYEIyNcW8WtSEFygXNQIh+SmoPXxW54WKHIKOLgs9QuRO6oEwv8QRbynqSZvy2PvKEvIhVE46jHfiQX9fxc3p5RO553b7ev/U3yrfb/01a5NgEXFJbts5v/zQMQJFiL7Dl+FUAJu2ZygAda2lqwjJDxbIcWuoolAu8VhHbIHzzMEQHWwyN4yJk4llvhcn+cE4UzakvlHzvR8l9CbRx0PtHIb+Ly3p+IFvX1f1bv5pN6N/p8iZRbkGnLtv//R/ySV//NCxAsXaq6eX8YYAFV/RKtc0iRCrIkZ//jM3QoCAtqqr//swYCAl4zMfqAgJQCAgJl4zMf6rszN///szHVUvn9VVZjoUBEl8P/////+lxgJdmZmb9VUoBAQSBp//+CqTEFNRTMuMTAw";

let click = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAABgAAAykAWlpaWlpaWlpaWlpaWlpaWnt7e3t7e3t7e3t7e3t7e3t7nJycnJycnJycnJycnJycnL29vb29vb29vb29vb29vb293t7e3t7e3t7e3t7e3t7e3t7/////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQD3AAAAAAAAAMput0iwAAAAAAAAAAAAAAAAAD/80DEAA34Btr9QRAAqqmZ2iRZhwQETg++CGwH4gcCHKAgCDvlHcEHcEAQ/9Jys/8/BCXB8Hz/ymJwfBAMdv/1A/EBzE7N3Iuatnt2lFaWstFkBAWDY3GLjiTNgWVWe6mCuhIbbihIGv/zQsQjHLm3AxuMQAAfFqKq4rAgg70owfcNJ5rzRY6VVoMYpFmXppmvmeXsfVkGLdXN6w/2z/dKhzdFPsRLjxo3M4xuIheSfaxgdrQYPyCLJk3HDxqTTP4XEzv8Sb+nuId2X5oBDWrVq//zQMQMFmiy7xPMGAAEu2taJGoyzX2u7R3W3YrCgCShXQSTqokGksWwOvQGEjS6Dx5IhDq2IpgqVlgkl7w0MIg1S1S5C5Rks5HlnzodPK6iN7Tj3SCQ7nUPr1qMurr/a1IiAMRBzito//NCxA0WgMre+0gYAFEqSaDtFCOqqqrHcw20FGCNVAVSkK/UhSw8HCoirLA0JQ0dcAio0seUKtHGndAikVQWsJNSRxNhMYwRHlPc9UcaAwdOkdCMtjr4GKwZtGA+GA/HAwGwuEAgDAEr//NAxA8XQpLiX4tQAtI9585/k4nu/Zf5gjiBRzeAOE8aiC/x8XIgugvv/HwvJCEYmhQ/N/0GUfC0hGSCqb9W/8wiQ4qcc5shOO////yqqaciMRKhxxQD///OlUxBTUUzLjEwMKqqqqr/80LEDQAAA0gBwAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=";

let explosion = "data:audio/mpeg;base64,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qq2QApE4qFSlRAmoWbymTyZMr1WzNJxKGOfi98abpGQMiPz/80DEcxQJNuq+eYY819G6zqRttMiUUm1f/ptqlzGutsqoju6PksKnZwaSIzGTZrIY8zrdLv//////18+txto1/prdohwE826MFaDg4OIGFARWls6SfsC1yyBdoIKI3zHVYR9yUqD9Xv/zQsR9FaM65f4wxSnboTx/Y5aYxoLALH/XbeMlKYVhI4ScssUXMOa4PTo56b///+FBGEY0UIvqtJBgAqtOShFQkMTtZmEaTdqZS+DZs2bKsEEGfRnfNTP0zaFmytEPukBCpsecKoDo0//zQMSCFBEq6j4wRuDeErCzxpQUS1pFYibCFE2pIOjqzQJHjwd3f9T2jakoLSo2nqS+yIBUVWm3AEVjON20/TXuCFHjBRiS9YhVmoY2sivCEiHjMhwqYxUySUUTqtD+3aYhmcSiJN/6//NCxIwVcTbePjJGhKK2otEpmS9yH77Me9jlNdnoj8aoeWAsQb//RXO76lERrVkkG4QCA4awcpssqxNqVPe8Fp4fiIQTBT4F4YekKNTkdCZAoQC7cj51z2CxxydSjw5XsPIjqDi5L2OW//NAxJIWgjLSHkjFDOSNIXaXsKsIABo90c0HWzI15ur//2G7hdCmHjAJtZF01YSgS5swWWQdRqaxYNGzZuUViMqXmw1o6VWacU2FbFLNk73xzdCt4YQVsHHgyg6w7/LrGWi2KsewAnz/80LEkxYJKsX0SYaU8KAYGmDlLRhxOTd///7ThG1JtdUAoF1NWQBizV1+q2j2StWxRZrssM0tdx7XjGj5QLO/eRtaxM0uwmMoiZSFQESVCrbfxEmYEzxGeYJRIKCJuLErHyLiokc8XW7/80DElhMg/sX0SYZcY7/FW78Cjb6eptYo1tKOUtyJWu5SKVNAA2nhabYYoNA50/GgtxxEUwrk6mYKweD4YALAzpJUsSPi5eJ2LmxxHFUC9R6Ol50fQ2JUsOnBBc4ayE9LT2lRCeZymP/zQsSkFPkiwh9MGADzR02/DRl3Mte29jy5iPndrNnnlztN7eZt8y68q1mz8uQW+C7q2z1PpsrOqtoytZFajNV4LuYZA7+LCsgrvm///S7+tQIBAsSEDeOFLyZLnooCffj8MECe/hbSAP/zQMSsJPo2nl+PYAHSJ7/lA31f/UkpzFH//RMlGxNMWRMf//zUkjJNSTqUkYmLf///6quitEnGTqVV/////0jFZJVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NCxHMTUyoYo5BoAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";

let footstep = "data:audio/mpeg;base64,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";

let hitHurt = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAACgAABMsAOzs7Ozs7Ozs7UVFRUVFRUVFRUWdnZ2dnZ2dnZ2d9fX19fX19fX19kpKSkpKSkpKSkqioqKioqKioqKi+vr6+vr6+vr6+1NTU1NTU1NTU1Orq6urq6urq6ur/////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQDOQAAAAAAAATLh0uiqgAAAAAAAAAAAAAAAAD/80DEAA9QxtAFQRgCSgxjGMYxxjGMeQBjGMeABu7u7u4AACERERAMDA3B9/lwQcXPiMH38Tg+D/1g+D4P//E5//wf///lz/w/h9UIQccSkUEwAyRMmmFgYWA2yYXbSJhKwaQniMnWFP/zQsQdGvGe7AGGSAC4TGHTk1NXCFonerpul2MNBmBiVQtuBK1JLSqcCVg1GS7o+qlinfCDMotbWxlOPaJvLtFRGLpRNHl9ULOCwpfFW+9S2pKCwuYNNZ7v/CJZg8YloECYTKCe5Wq04P/zQMQNFXkC5KPMQACsVj6i8wXHSg+XPHcXilhGbnWYczNUNNNXubdXS1Vc6kssCCoueNC6AuPLmHIYRKgGS3IvmRoSSk4SO1ot60lI6de1677abPsWMi1+HxgExHgeAwGBdGJ4lVTR//NCxBIW+H7cNEpMSTkKATAFRu1dpBR5rlUoI6AAJUQaJXHAXWvbjeWtzugrXPgqtGP7mPaY6FdrvyDyr/0z/s8pTcXr97vvzr/tq9kd//+uewdvu9epCgpzINkH+b5dStOJPLRekOev//NAxBIUmR7MC08wAGJMlU7bXXsZzGsVWicOCl6Td2voFNO/EPrm0jM33f7Xf0V7RRY1VI+0JmHJUZQGBgGXHQNFWzoi7VzZKDRrzzVKPKwBwMmzQgJfqwoOyubljBGmqCsip7cphoL/80LEGhihdqgBmkgAywaXfdnDYBi4hnUTRMzMMopeHxAum3AmRad95dugr0pku2wilPf/nytfLIST8buDUrsuTc0gFUBMBFm/0jusqSYyE3X/1OT+ujA5qYY9YpapqDasFg6GX7jMofv/80DEExbpBrwBmEgAh2Yn5YKhkoQuIkTDcTRWNIovgXc0i62ylk4zYVSuVy2Owlk5MiAChsSlQCGxhlAGFhMJwk1hZLuMDo1hAgOvY3/Wgc1rVf//XTLSwU4Jh0TmZaJFi60RlGOllv/zQsQSGIHShAGaaACzKCtl0JqFuC9m6b8cQjIxDx5HoDmJpNd3Q8ouXkzBVdL5qcOueLxkzIu7/5ual0wNy8Ylw1b//5kZuYqEQKmQq//8VHoBoPBIHhJ//4CaEgIIPtAEiF0AKL/xKf/zQMQMFqkqfMuYQAD34moCl9Lizh+IxNcyKBQHhqh9FycDQRBuR+yUlpdf9YpTj2sorn4FDMUTSGOwo/uGh4HxhQeBhnlwcE4158T0prb/WHy/TOr+3/Pl/+5aBE0hJddv+IGAjwlD//NCxAwO8A3pP8MIAEVBWInljawVgrEUFTvBqVOiUNQah3/O1PLHpKCv/5U7EUO1nf+WPQVgq5R7/8RQakxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";

let jump = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAACAAAA/oAR0dHR0dHR0dHR0dHYmJiYmJiYmJiYmJifHx8fHx8fHx8fHx8fJaWlpaWlpaWlpaWlrGxsbGxsbGxsbGxsbHLy8vLy8vLy8vLy8vl5eXl5eXl5eXl5eXl////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQDEgAAAAAAAAP6gWAo2gAAAAAAAAAAAAAAAAD/80DEAA+4esT3RhAAEAkME3BHc8mAwsnfvf2xyYAAAQQiIggBgYs/1g/8uCAIBhQJg+/DETv/BB0uD//8QAhLg+H//5TLg///8Hw+qEmQGqilAAQYOVW6xrnYUh3BYotFvRl9OxkUJf/zQsQcGwmW4ZWPaADqJgXKbBcbD9cTV4UBtMaRKlWRDh6ZOYlI8p5iUJLusYVy4fnWrMh5us9y48ybqas/tmTTF7yrgw7Pqi2sMl6n7BMZ0KNCSrvK2W6Icu3/9dWoELYaNzmmrDxrjP/zQMQLFikq6xXPWAB3udVkJvOT5nmpa9kUXNnEs8ZlM5QkNwpk8+e/c48jf//BtT//hJc4+v9znnIOOxcQOwlxCAgG94lMgN6JEb/jGvlUoPmDCTX/9HYhaGpaELMYVowtA3k5VSy0//NCxA0WETbi9BvQUBewUxoudf/21DANNum3/5DkOAoHA5Jf1FRhj//DHMYn/DEjh5CV8KpJh4gdhIP8s1+4DAO8NEjQnC6Vp/8W7npMUINXf7EilymPYiqcUDlkKtCFJwDprairSDaB//NAxBAXeX7m/mnG8GCNldh3Bbgu48/6AuCcBgvT8eLC4aN9UcanEDPVlEUUVy/1VUSuLhaqzjC4CFvxKWFhwIXBQLDQ/KpG/5ZAoXUKAcKipBJpKHk/6LzTUXpEAoGNoosJX+2YW83/80LEDRe5Ztb1T0AArPS+CYs99//7rChEicdy8/6kgJB2fZ9/5IqSKS//6qSOF6//ZiRw8xP+GYo409HZUFgY6h7MSlQkLDIiLBUSE8WCplz/2rCRky5IMhIC3vvrKOyNNkWpaqeMdHz/80DEChaykrTJkmgA0QJ0bkImySyYCCphPdQXZM1Hqy+OAM7ScPL8yI+V1f5D0RxkCXWuTR4o/1ialPMjfmJx9f/1oZkdNMmlBPV6LdL//Wv+ZKzE4t3XI/9iv6ZKAOHOHAIBJORw4v/zQsQKDMhJ+E3GGABS1eZ5xIBB0SuPCI9BXqeRxF7kYlgrUeIrOiJQd/R/1Hv63f//7vhqp9VMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==";

let laserShoot = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAsAAaGhoaGhoaGhoaGhoaGhoaGhoaI6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6OtLS0tLS0tLS0tLS0tLS0tLS0tLTa2tra2tra2tra2tra2tra2tra2v//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQD0gAAAAAAAALAB0ZVYQAAAAAAAAAAAAAAAAD/80DEABEpLsSzQUAAhwAUxjGMbyAAAALjGP+EFBRMsG4AAAAAoDQUMRP93f///97hKlyxcUFBQEHf+CBxYPg4CDs5/WCDv0ggcy/gh/u5d/DCq7dnSAwF1II9mAxOiJQbNnTM54WVZP/zQsQWGhkK9s2MSAC+WzgENOKCsRAKIWYKhsdIm+gVNgiSofvRkoqIkm9pG3BFtZiStxVRKwBUmFgCWMCRpEQAQ+EjAlDgvLMetDmDGjEMGVprGP8kBEoMnc2///WtVeVMIDsiMsYMCv/zQMQJFfES0AGYeAAClVCrYnOhNajF1A2EN2LYJIO0vqaQ89j+Q89D+OhQniu2xb0inNhY3SpXNb0tV4xtTS3MsH1zbG6eBGj5m10JSCwULPalDy30UU0h3/+lLJHLXsFISv8zQ2Ms//NCxAwXGnKYAZuYADNz3S/yEgDEKBqX/A28BhQbtJk8lxHInUiujyyOaRhAf8jB6HKJI1/9IxZZiiY//6BeMieMVIq///0VmqSjJal/////XWqbCxpyAL//50KCqkxBTUUzLjEwMKqq//NAxAsAAANIAcAAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=";

let pickupCoin = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAABgAAAykAWlpaWlpaWlpaWlpaWlpaWnt7e3t7e3t7e3t7e3t7e3t7nJycnJycnJycnJycnJycnL29vb29vb29vb29vb29vb293t7e3t7e3t7e3t7e3t7e3t7/////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQD3wAAAAAAAAMpycTe4QAAAAAAAAAAAAAAAAD/80DEABC4atnvRhgCtaISU6Ij/t4i7v+/dxEGEAQIIDAQBAEAQB8HwfB8HAQBA4gPwfB8HAQBA58HAQDH8EAQOf/icP+6D5///lwfB9//Loh1ADAAAioBBm3RbZZoAC6JsEKoWsvGPv/zQsQYGaMLCv+NOAKJI/OCPI4gAQNiQk4JvKjUap/nHKa3/f1DH0DPyhHHTkHjTR07/v/nDxpppwcIw6RGpx34Tf/kfxsaaNTjh4001RsNjTTf/V/t/mDOWPGKeJeHoV383v3AMna9g//zQMQNF7LjBv/LKAKxFuyVzQrcgnvYj+5EeDmJiCudGciuSyowuRnSxzM6Mdc5mf9wkDjlug0eAgIJi53r+q9r7/X/6IBlf/nIQUExdEOlvs9WX//1Eh/8VUXEDrJKRmeXgBuyE6YA//NCxAkWylKy/0yYAG1OpTvn+7xPWPdz+bR6uXPWi8DQYB+SRSsku2i+kpa0nqsu7OplIKXZf+tVn+oY42/+upLtVb7TZB0kJkaTU2RLyZcMlF5ajNS+kRJ///llf8lViwIyS5JFLKbL//NAxAkVIyqACY2IAOZp0dMsCNqyG8MjguR7Jk0NuyClaX5iiy//RMloJqM9Wiv+ShRLyjiR5Oyl1f/1MqyKR5FaB0w//b/+YNUipCk70EU1K/////pueSVMQU1FMy4xMDBVVVVVVVX/80LEDwAAA0gBwAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";

let powerUp = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAAEAAABz4AJycnJycnNTU1NTU1REREREREUlJSUlJSYWFhYWFhYW9vb29vb35+fn5+foyMjIyMjJqampqampqpqampqam3t7e3t7fGxsbGxsbU1NTU1NTU4+Pj4+Pj8fHx8fHx////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQCkgAAAAAAAAc+umev4QAAAAAAAAAAAAAAAAD/80DEAA2gRtAfQxgAphTcw3DgYGBizQDAxbuHAxYeKBjDHBwEAQ/Lg/Ucg+Hy5rwf6P/4Pn/+D4f/5QMf/xOflPy59VwUKnsFPTSXUqJix9AfEGEvNIHzTa0gpNh6FRcoRsJxiIQ+B//zQsQkGrJC2AGYOACJZo3OF0OUwoP0aNvDJi0GFFZzrMiyuXiXVlehA2amUJtLXmGkatx55h3uYz2l/eXpqX5SlOXtpRcGUy91x9lC/f/3N/tIIYAiHKzCPBar88/8Yiok/kbs81Kou//zQMQVGIC+4lPYYADJYsW91YzAVFT/gyEo6BWkJji0eR2JKCYLGGGn28BAEBCB4lFSiCIDEBQAOFxgZYBkJGkmV8WHsIAY2cOFHClSlqaiiGLoo9C0Kp9lqlzca2DqrUCtuyWNSThG//NCxA4X0ObqVG4GMIxAYpG+xmtDU+msnwytY4oIKAnFDCzGGqwjKnqJgh0AwIAGEzAya4+SQExEsIjVBdp8+XEcYwUKuPXtU0vYl98UnFaGiGhCtpdKpKx7+z31RRUoEjMwAFFgI3ZV//NAxAoWkP7i7GvGUCZOoaAegR3P+3zCVzECmEXFkLxnnVVY4d/qqq0jS7MykxiWIDFlnhoKiIEGbFo1hkExAbEpEyACZz87UlfJC5Quf7JrQ0tXeRUhlq1Z6vGkVTgQCCIiEqwAMGv/80LEChaJyt70aUb0rQ6Ak4Uj07dMqGECtIOj6KHwHAUSf8hA4wef53iY8cHi/uQXAQDf//8q7uaBQxfERERKwUT/4gJmA6gMCcThkBPrREvrW0TvAkFnlxw008kqKUBGMmMgjamSZaT/80DECxT5kt6yaUTsoWACNAzTi1W4m4bxLG38IAVv8QEVK3zhwJigeAnX4hylARKtozr/DjsUvagQUEjwaLK9QRIjBKsmCYIljykmv+DzuILf9PsmkSpBJgNHdaA57Td7j1SVACgNuv/zQsQSFEGa6tRYhuyfX+iRET918wGAMk78MO5G+oYUV0RNH1VlNEd3fLv//tbN/KbCxAOCc+Hz7+edxKAhdGbZ/1XyExc4h9COtw+PgF6zyt2SAAAy8lB6qdtJlTUmCF+QpIFow33eqf/zQMQdFGkrAv5uBnCjUalbjtYiLluW/5pFUmqU0fjGeTSwqckM6TKYlwbggRaByYRQ2PF82gidIsYaQlSr30KrSnrJRpZVW2SiAAHjv7R75heIda8D1kROQWSnMq8Fjv5n/5RuCLYp//NCxCYUSJsnHn5ShgWFYYCjAY1gqGiILAQEFulgqCzSBMDCIGSwFIgmFhofyISNGgGIEo//14vVS8yQKYCT0DShE/t7NLd4qaw4Fcf9vBYCi/bTb6jiXcucKjOrS/9jnElBf/K9TDBE//NAxDATkmLfHHrKyEn/+xzuZg9/+mcyC3//1b+miNO5BoI/EDhwu7//5ZVIl3J5rRtvzAj4vgpOiw7DzCJblAxQPeqH/oEAUBg63dPyAIBQ8cyl/6gZioYpW/w4GCBkFCYedy4OCQL/80LEPBRBZv78WUTSoLA1/8uZMgIedHPjjRo8d///72soaZdiei1kkkcAETg6PxioN83b5fJ00i+rNT6KOOQmQr/mEwQPi+Rv8pDkY5CN/URIJiCnPyN8RIcinsd////lDqoqMr7/KKj/80DERxRqYwL+awoSo0Ijna/8j/LAUKp6mnAfi2jEAbslDcn3FdY3dz16/TcrXjmrBaIc+9U289ebWmq2AQwkE8d0glma98qDQ8BCxI+CEjKlkG01LFGFUtMuFUZvirPRu//0qqv31f/zQsRQE8jCzvVPYAAx1yTNzat2JzZ3B1uEhKbGq0qGNHeRtzRceTEN4ZAPgcuaE0DdI4sjhbS2wXKOm7JmqkxZppZS9cNOIgaM5DRsktqJoxZcvDlEoaIUnRMiBEPJBavSmSky0TiClP/zQMRcJUKmsl+PiACny8ZHyQNHqXsZLWYmRmo3frdvMXJozNGrU3rpGToabVMigpV0WWam5ks8fbYKkWxY95csCp3+txkACASEBAQACDCZ+HwT7y+TPEYuPfhETM/HiSr/kRV//HSJ//NCxCISizJET404ANVE//3NnDqx0d///Qqa3nKPDz////6HOabU1prHHGj3////+PHshw6qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";

let synth = "data:audio/mpeg;base64,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";

let thinLaserShoot = "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//NwwAAAAAAAAAAAAEluZm8AAAAPAAAABwAAA5EAUFBQUFBQUFBQUFBQUFBtbW1tbW1tbW1tbW1tbYqKioqKioqKioqKioqKqKioqKioqKioqKioqKioxcXFxcXFxcXFxcXFxcXi4uLi4uLi4uLi4uLi4v//////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQC0gAAAAAAAAOREkQRVwAAAAAAAAAAAAAAAAD/80DEABR5ErZVQTAAtttrSADSIDjGMYwAAAAAAAMYx8Y4iIiIjNe7//2I8RERnsmAwGFpsYTJkydg+D4IAgCBzB8H//8uD4Ph///+H+Iw+UBA4UBAEAQBMHwfB/5cPtrtthttiCgRXP/zQsQJFflS8luNQAJkAgUS6KDjpR0VUkm8kk27WMDxmmTA4QgU/ebDhABQa1ueKjDha///1g08cn/8wj3NDldnKZcV/wQKCxEJAWr3BgBsHh3Yr8uHxpsyFTovkKmcuVVZK34A8FlvP//zQMQNF0FXDx3aMAL/C3zOavMPhSthvoQlkN3jOsoM7bNfAOkxMaEMERHBwGXAguAlmkSM+qz6zf3cRH/vWtsfYtnnc2acy0i8SLNpI86jXiiBe0b/tSqn71376Ii8dNZrJJJAAv3X//NCxAsW6K8G/1swAz86cwMNMbJTKxcyuJMzjDOJeHGHM6yyyrX8df+efbbNzUEgU0aBEsRNJH7tB3VrvMq3FE9pZftvHf48bx+6HX0c6K7139dzK3f+rb9ed/3m0o1JI45E45C4SgTB//NAxAsWkQLCW4wYABFC6V+cGNVL0C9mja61wgF4sUpkDDoGDhxtBIJIwUUvw21pCRcDC6KVBSlSwahpR0INEMNiwcFlGlnFOYMUHFpKxZSUi8f/asZf3vrmf/rqackkkkkkkkkkcjj/80LECxdhGspfiTACHAAGBzLVZDg+aVLEL2CqbKxdfvs509JOib/Oi8lo/rz7E4cHyfW//tCJ0GowbNg1EWwcHQ0LGnGF16QmRHnhK4AzpUtPfixYg4qoiqDSmCgaWVpCBAgECAAQYTP/80DECRMTIhQXjTgB8DCBTvGWLLwFBsj/cIfxFLFR3/LHIcPf+PEjcdX//NSaPHOif//nDpqDo6yqaPHL////jw89HHTY6a3O/////x54SWpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqg==";

let tone = "data:audio/mpeg;base64,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";

</script><script>
        // ---------------------------GAME HERE----------------------------




        //   1 sounds
        function defineAudio() {
            blip = new Tone(220, 50, "sine", 0, 0, 0);
            fireball = new Tone(110, 333, "sawtooth", 0, 0, -30);
            insertCoin = new Tone(110, 200, "triangle", 0, 0, 0);
            swimTone = new Tone(6, 200, "sawtooth", 0, -9, -30);
            backgroundmusic = new Tone(2, 1000, "sawtooth", 0, -9, -30);
        }

        //-------2-------define frame rate-------2-------
        framesPerSecond = 45;
        // let timeLeft = framesPerSecond * 20;
        let interval = (1.0 / framesPerSecond) * 1000;


        //--------3------define characters and functions

        fishGame = new MyLittleVideoGame("Super Puff");
        useControls("lrud");
        fishGame.setLives(1);
        //constructor(name = "MyLVGame", score = 0, level = 1, lives = 3)
        fishGame.setBackgroundColor("lightblue");
        bindControlsToWindow(fishGame);
        bindButtonControls(fishGame);

        leftBorder = 0;
        topBorder = 0;
        playAreaHeight = fishGame.playAreaHeight;
        playAreaWidth = fishGame.playAreaWidth;
        let gameOver = false;

        // if (fishGame.userNameSpan.innerHTML === 'not logged in') {
        //     fishGame.userNameSpan.style.backgroundColor = "orange";
        //     fishGame.userNameSpan.style.color = "white";
        // } else {
        //     fishGame.userNameSpan.style.backgroundColor = "unset";
        //     fishGame.userNameSpan.style.color = "black";
        // }

        let blowFish = new GameCharacter("blowfish", "&#128033;", playAreaWidth / 2, playAreaHeight / 2, 0, fishGame, "2em");

        // &#128033; //blowfish
        // &#128031; //fish
        // &#128032; //tropical fish
        // &#128044; //dolphin
        // &#128025; //octopus
        // &#129425; //squid, supplentrol
        // &#129416; //shark, supplemental
        // &#129438; //lobster, supplemental

        // fish, tropical fish, dolphin, octopus, shrimp, whale, turtle, otter, alien
        let seaArray = ['&#128031;', '&#128032;', '&#128044;', '&#128025;', '&#127844;', '&#128011;', '&#128034;', '&#129446;', '&#128126;'];

        //make instructions
        const instructions = new GameCharacter("instructions", "Eat or be eaten!", playAreaWidth / 2, playAreaHeight / 3, 0, fishGame);

        //make bubbles
        let bubbles = [];
        for (let i = 0; i < 10; i++) {
            let randX = randomNumberZeroToNumber(playAreaWidth);
            let randY = randomNumberZeroToNumber(playAreaHeight);
            bubbles[i] = new GameCharacter('bubble' + i.toString(), 'o', randX, randY, 0, fishGame, "1em");
            bubbles[i].setColor("blue");


        }

        //make /12/->4 fish
        let fishes = []

        function placeFishes(fishesLeft) {
            //let fishesLeft = 4;
            fishes = [];
            for (let i = 0; i < fishesLeft; i++) {
                let randX = randomNumberZeroToNumber(playAreaWidth);
                let randY = randomNumberZeroToNumber(playAreaHeight);
                fishes[i] = new GameCharacter('fish' + i.toString(), seaArray[i % seaArray.length], randX, randY, 0, fishGame, "2em");
                fishes[i]['cycles_until_change'] = randomNumberZeroToNumber(90); //number of cycles before changing direction
                fishes[i]['count'] = 0;
                fishes[i].xVelocity = randomNumberZeroToNumber(4) - 2; //0,1,2,3,4 - 2 => result range -2 -1 0 1 2 
                fishes[i].yVelocity = randomNumberZeroToNumber(2) - 1 // 0,1,2  - 1 => -1 0 1 are possible results
                if (fishes[i].xVelocity >= 0) {
                    flipVertical(fishes[i]);
                }
            }
        }


        function moveBubbles(speed) {
            for (let i = 0; i < 10; i++) {
                //let yMove = -speed
                let xMove = 1 - randomNumberZeroToNumber(2); //gives -1, 0 or 1
                if (bubbles[i].getYPosition() - speed <= 0) {
                    //add height and restart x
                    moveCharacterTo(bubbles[i], randomNumberZeroToNumber(playAreaWidth), playAreaHeight);
                } else {
                    //move bubble up
                    moveCharacterBy(bubbles[i], 1 - randomNumberZeroToNumber(2), -speed); //gives -1, 0 or 1
                }
            }
        }

        function moveFishes() {
            for (let i = 0; i < fishes.length; i++) {
                moveCharacterBy(fishes[i], fishes[i].xVelocity, fishes[i].yVelocity);
                if ((fishes[i].getXPosition() > playAreaWidth) || (fishes[i].getXPosition() < 0)) {
                    fishes[i].xVelocity = -fishes[i].xVelocity;
                }
                if ((fishes[i].getYPosition() > playAreaHeight) || (fishes[i].getYPosition() < 0)) {
                    fishes[i].yVelocity = -fishes[i].yVelocity;
                }
                if (fishes[i].xVelocity >= 0) {
                    flipVertical(fishes[i]);
                } else {
                    unflipVertical(fishes[i]);
                }
            }
        }

        function checkForFishCollisions() {
            for (let i = 0; i < fishes.length; i++) {
                for (let j = 0; j < fishes.length; j++) {
                    if (i != j) {
                        //console.log(i, j);
                        if (collisionDetect(fishes[i], fishes[j])) {
                            soundplay(blip);
                            console.log("collision detected");
                            console.log(i, j);
                            if (fishes[i].getSizeInEms() >= fishes[j].getSizeInEms()) {
                                fishes[i].setSizeInEms((fishes[i].getSizeInEms()) + 1);
                                fishes[j].setText("");
                            } else {
                                fishes[j].setSizeInEms((fishes[j].getSizeInEms()) + 1);
                                fishes[i].setText("");
                            }
                            fishesLeft = fishesLeft - 1;
                        };
                    }

                }
            }
        }

        function checkForBlowFishCollision() {
            for (let i = 0; i < fishes.length; i++) {
                if (collisionDetect(blowFish, fishes[i])) {
                    if (blowFish.getSizeInEms() >= fishes[i].getSizeInEms()) {
                        blowFish.setSizeInEms(blowFish.getSizeInEms() + 1);
                        fishes[i].setText("");
                        fishGame.addToScore(1);
                        fishesLeft = fishesLeft - 1;
                        soundplay(insertCoin);
                    } else {
                        fishes[i].setSizeInEms(fishes[i].getSizeInEms() + 1);
                        blowFish.setText("");
                        fishGame.setLives(0);
                        gameOver = true;
                        soundplay(fireball);
                    }
                }

            }
        }

        let levelCompleted = false;

        function checkForEnd() {
            if ((fishesLeft === 0) && (gameOver === false)) {
                //alert("end");
                //gameOver = true;
                //alert("level completed");
                levelCompleted = true;
            }
            if (fishesLeft === 1) {
                for (let i = 0; i < fishes.length; i++) {
                    if (fishes[i].text != '') {
                        //alert(i);
                        if (blowFish.getSizeInEms() >= fishes[i].getSizeInEms()) {
                            //do nothing alert("you win");
                        } else {
                            //alert("you lose");
                            fishGame.setLives(0);
                            gameOver = true;

                        }
                    }
                }
            }

        }

        //-------4-------make game run with start button and restart buttons -------4-------
        document.getElementById("start-button").addEventListener("click", startGame);
        document.getElementById("restart-button").addEventListener("click", () => location.reload());

        let fishLevel = 1;
        let fishesLeft = 1;

        function startGame() {
            //makes start button dissappear
            if (document.getElementById("start-button").style.display != "none") { //if not undefined
                document.getElementById("start-button").style.display = "none";
            }

            instructions.setText("");
            defineAudio();
            soundplay(insertCoin); //Need to restart here
            //soundplay(backgroundmusic);
            loopsound(backgroundmusic);
            //start game loop
            placeFishes(fishLevel);
            fishesLeft = fishLevel;
            setTimeout(() => {
                myGameLoopTicker = setInterval(gameLoop, interval);
            }, 1000);
        }

        //----------game loop ---------------

        function gameLoop() {
            moveBubbles(1);
            moveFishes();
            checkForFishCollisions();
            if (respondToControlsWithMove(blowFish, -1, 1, -1, 1, true)) {
                soundplay(swimTone);
            }

            checkForBlowFishCollision();
            checkForEnd();

            if (gameOver === true) {

                message = new GameCharacter("messageid", "Game Over", playAreaWidth / 2.0, playAreaHeight * .75, 0, fishGame, "1rem");
                clearInterval(myGameLoopTicker);
                stopsound(backgroundmusic); //
                // /////////////UPDATE SCORES IN DATABASE /////////////

                                // let thisGame = fishGame; //!!!! change this line for each game

                // let finalScore = parseInt(document.getElementById("score").innerHTML);
                // let currentHighScore = parseInt(document.getElementById("highScore").innerHTML);

                // if (finalScore > currentHighScore) {

                //     alert('new high score');
                //     let online = navigator.onLine;
                //     //alert("online");
                //     //alert(online);

                //     if (online != false) {

                //         gameIdentifier = gameIdentifier;
                //         secretKey = secretKey;

                //         //using POST//
                //         let xmlhttp = new XMLHttpRequest();
                //         xmlhttp.open('POST', '../../includes/insert-new-highscore.php', true);
                //         xmlhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                //         xmlhttp.onload = function() {
                //             // do something with response or after response
                //             //console.log(this.responseText);
                //             window.location.href = window.location.href; //reload window because there is not high score
                //         };

                //         let postString = 'gameidentifier=' + gameIdentifier + '&finalscore=' + finalScore + '&secretkey=' + secretKey;
                //         //alert(postString);
                //         xmlhttp.send(postString);
                //     }
                // }

                // ////////////////////////////////////////////////////




                setTimeout(() => {
                    removeCharacter(message);
                    //-------6------- At end of game, add start button back-------6-------
                    document.getElementById("restart-button").style.display = "inline-block";
                }, 3000)
            } else if (levelCompleted === true) {
                message = new GameCharacter("messageid", "Level Completed", playAreaWidth / 2.0, playAreaHeight * .75, 0, fishGame, "1rem");
                clearInterval(myGameLoopTicker);
                stopsound(backgroundmusic); //

                setTimeout(() => {
                    removeCharacter(message);
                    //-------6------- At end of game, add start button back-------6-------
                    //document.getElementById("restart-button").style.display = "inline-block";
                    levelCompleted = false;
                    fishLevel += 1;
                    fishGame.increaseLevel(1);
                    blowFish.setSizeInEms(2);
                    moveCharacterTo(blowFish, playAreaWidth / 2, playAreaHeight / 2);
                    startGame();
                }, 3000)

            }
        }
        //----------0-------android games modifications---------------
        //<main character>🐡</main character>
            document.getElementById("userName").innerHTML=window.document.title;
        document.getElementById("highScore").innerHTML="<a href='https://www.charwars.net'>CharWars</>";
 </script></body></html>